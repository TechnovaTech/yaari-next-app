(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[189],{4043:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);let a=(0,n.Z)("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]])},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);let a=(0,n.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},8339:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);let a=(0,n.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(2898);let a=(0,n.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2606:function(e,t,r){"use strict";r.d(t,{Z:function(){return CallConfirmationScreen}});var n=r(7437),a=r(2549),l=r(8339),o=r(2741),i=r(3487),s=r(5650);function CallConfirmationScreen(e){let{onClose:t,onConfirm:r,userName:c,callType:u,rate:d,userAvatar:p}=e,{lang:f}=(0,i.useLanguage)(),m=s.I[f];return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-sm p-6 relative",children:[(0,n.jsx)("button",{onClick:t,className:"absolute top-4 right-4",children:(0,n.jsx)(a.Z,{size:24,className:"text-gray-600"})}),(0,n.jsxs)("div",{className:"flex flex-col items-center mt-4",children:[(0,n.jsx)("div",{className:"w-24 h-24 bg-gray-300 rounded-full overflow-hidden mb-4",children:(0,n.jsx)("img",{src:p,alt:c,className:"w-full h-full object-cover"})}),(0,n.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:c}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:["video"===u?(0,n.jsx)(l.Z,{size:20,className:"text-primary"}):(0,n.jsx)(o.Z,{size:20,className:"text-primary"}),(0,n.jsx)("span",{className:"text-gray-600",children:"video"===u?m.videoCall:m.audioCall})]}),(0,n.jsxs)("div",{className:"bg-orange-50 rounded-2xl p-4 w-full mb-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,n.jsx)("span",{className:"text-gray-600",children:m.rate}),(0,n.jsxs)("span",{className:"text-xl font-bold text-primary",children:["₹",d,"/min"]})]}),(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-gray-600",children:m.yourBalance}),(0,n.jsx)("span",{className:"text-lg font-semibold text-gray-800",children:"₹250"})]})]}),(0,n.jsx)("p",{className:"text-sm text-gray-500 text-center mb-6",children:"hi"===f?"आपसे ₹".concat(d," प्रति मिनट शुल्क लिया जाएगा"):"You will be charged ₹".concat(d," per minute for this call")}),(0,n.jsxs)("div",{className:"flex gap-3 w-full",children:[(0,n.jsx)("button",{onClick:t,className:"flex-1 py-3 border-2 border-gray-300 text-gray-700 rounded-full font-semibold flex items-center justify-center",children:m.cancel}),(0,n.jsx)("button",{onClick:r,className:"flex-1 py-3 bg-primary text-white rounded-full font-semibold flex items-center justify-center",children:m.startCall})]})]})]})})}},7115:function(e,t,r){"use strict";r.d(t,{Z:function(){return PermissionDeniedModal}});var n=r(7437),a=r(2549),l=r(2898);let o=(0,l.Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);function PermissionDeniedModal(e){let{onClose:t,onRetry:r}=e;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-sm p-8 text-center relative",children:[(0,n.jsx)("button",{onClick:t,className:"absolute top-4 right-4 text-gray-400",children:(0,n.jsx)(a.Z,{size:24})}),(0,n.jsx)("div",{className:"w-20 h-20 bg-red-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:(0,n.jsx)(o,{size:40,className:"text-red-500"})}),(0,n.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Permission Denied"}),(0,n.jsx)("p",{className:"text-gray-600 mb-4 text-sm",children:"Camera/Microphone access was blocked. To make calls, please:"}),(0,n.jsx)("div",{className:"bg-gray-50 rounded-xl p-4 mb-6 text-left",children:(0,n.jsxs)("ol",{className:"text-sm text-gray-700 space-y-2",children:[(0,n.jsxs)("li",{className:"flex gap-2",children:[(0,n.jsx)("span",{className:"font-bold",children:"1."}),(0,n.jsx)("span",{children:"Click the lock icon in your browser's address bar"})]}),(0,n.jsxs)("li",{className:"flex gap-2",children:[(0,n.jsx)("span",{className:"font-bold",children:"2."}),(0,n.jsx)("span",{children:"Allow Camera and Microphone permissions"})]}),(0,n.jsxs)("li",{className:"flex gap-2",children:[(0,n.jsx)("span",{className:"font-bold",children:"3."}),(0,n.jsx)("span",{children:'Refresh the page or click "Try Again"'})]})]})}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:t,className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-full font-semibold",children:"Cancel"}),(0,n.jsx)("button",{onClick:r,className:"flex-1 bg-primary text-white py-3 rounded-full font-semibold",children:"Try Again"})]})]})})}},5314:function(e,t,r){"use strict";r.d(t,{Z:function(){return PermissionModal}});var n=r(7437),a=r(2549),l=r(8339),o=r(4043);function PermissionModal(e){let{type:t,onAllow:r,onDeny:i}=e;return(0,n.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-sm p-8 text-center relative",children:[(0,n.jsx)("button",{onClick:i,className:"absolute top-4 right-4 text-gray-400",children:(0,n.jsx)(a.Z,{size:24})}),(0,n.jsx)("div",{className:"w-20 h-20 bg-primary/10 rounded-full mx-auto mb-4 flex items-center justify-center",children:"video"===t?(0,n.jsx)(l.Z,{size:40,className:"text-primary"}):(0,n.jsx)(o.Z,{size:40,className:"text-primary"})}),(0,n.jsxs)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:["video"===t?"Camera & Microphone":"Microphone"," Access"]}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"video"===t?"Yaari needs access to your camera and microphone to make video calls.":"Yaari needs access to your microphone to make audio calls."}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{onClick:i,className:"flex-1 bg-gray-200 text-gray-800 py-3 rounded-full font-semibold",children:"Not Now"}),(0,n.jsx)("button",{onClick:r,className:"flex-1 bg-primary text-white py-3 rounded-full font-semibold",children:"Allow"})]})]})})}},3487:function(e,t,r){"use strict";r.r(t),r.d(t,{LanguageProvider:function(){return LanguageProvider},useLanguage:function(){return useLanguage}});var n=r(7437),a=r(2265);let l=(0,a.createContext)({lang:"en",setLang:()=>{}}),useLanguage=()=>(0,a.useContext)(l);function LanguageProvider(e){let{children:t}=e,[r,o]=(0,a.useState)("en");return(0,n.jsx)(l.Provider,{value:{lang:r,setLang:o},children:t})}},5997:function(e,t,r){"use strict";r.r(t),r.d(t,{SocketProvider:function(){return SocketProvider},useSocket:function(){return useSocket}});var n=r(7437),a=r(2265),l=r(4337);let o=(0,a.createContext)({socket:null,isConnected:!1,incomingCall:null,setIncomingCall:()=>{}}),useSocket=()=>(0,a.useContext)(o);function SocketProvider(e){let{children:t}=e,[r,i]=(0,a.useState)(null),[s,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e="https://acsgroup.cloud";console.log("\uD83D\uDD0C Attempting to connect to Socket.io server:",e);let t=(0,l.io)(e,{transports:["websocket","polling"],timeout:2e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return t.on("connect",()=>{console.log("✅ Socket connected successfully"),c(!0);let e=localStorage.getItem("user");if(e)try{let r=JSON.parse(e);console.log("\uD83D\uDC64 Registering user:",r.id),t.emit("register",r.id)}catch(e){console.error("❌ Error parsing user data:",e)}}),t.on("connect_error",e=>{console.error("❌ Socket connection error:",e),c(!1)}),t.on("disconnect",e=>{console.log("\uD83D\uDD0C Socket disconnected:",e),c(!1)}),t.on("reconnect",e=>{console.log("\uD83D\uDD04 Socket reconnected after",e,"attempts"),c(!0)}),t.on("reconnect_error",e=>{console.error("❌ Socket reconnection error:",e)}),t.on("incoming-call",e=>{let{callerId:t,callerName:r,callType:n,channelName:a}=e;console.log("\uD83D\uDCE5 Incoming call (global):",{callerId:t,callerName:r,callType:n,channelName:a}),d({callerId:t,callerName:r,callType:n,channelName:a})}),t.on("call-accepted",e=>{let{channelName:t,callType:r}=e;console.log("✅ Call accepted (global):",{channelName:t,callType:r});try{t&&sessionStorage.setItem("channelName",t);let e=sessionStorage.getItem("callData"),n=r||"audio";if(e)try{let t=JSON.parse(e);((null==t?void 0:t.type)==="video"||(null==t?void 0:t.type)==="audio")&&(n=t.type)}catch(e){}else r&&sessionStorage.setItem("callData",JSON.stringify({userName:"",userAvatar:"",rate:"video"===r?10:5,type:r,channelName:t,otherUserId:""}));let a="video"===n?"/video-call":"/audio-call";window.location.href=a}catch(e){console.error("Error handling global call-accepted:",e)}}),t.on("call-busy",e=>{let{message:t}=e;console.log("\uD83D\uDCF5 Call busy:",t),alert(t)}),t.on("call-ended",()=>{console.log("\uD83D\uDED1 Call ended (global) — clearing incomingCall"),d(null)}),i(t),()=>{console.log("\uD83E\uDDF9 Cleaning up socket connection"),t.off("incoming-call"),t.off("call-accepted"),t.off("call-busy"),t.off("call-ended"),t.off("connect"),t.off("connect_error"),t.off("disconnect"),t.off("reconnect"),t.off("reconnect_error"),t.disconnect()}},[]),(0,n.jsx)(o.Provider,{value:{socket:r,isConnected:s,incomingCall:u,setIncomingCall:d},children:t})}},5128:function(e,t,r){"use strict";r.d(t,{H4:function(){return trackAppOpen},L9:function(){return trackEvent},Lj:function(){return updateUserProfile},QU:function(){return trackUserLogin},Tf:function(){return trackSubscription},YY:function(){return trackProfileView},o$:function(){return trackScreenView}});var n=r(1007),a=r(3103),l=r(4725);(()=>{if(a.dV.isNativePlatform())return;let e=window;if(e.clevertap)return;e.clevertap={event:[],profile:[],account:[],onUserLogin:[],region:"eu1"},e.clevertap.account.push({id:"775-RZ7-W67Z"});let t=document.createElement("script");t.src="https://static.clevertap.com/js/clevertap.min.js",t.type="text/javascript",t.async=!0,t.onload=()=>console.log("CleverTap Web SDK loaded"),t.onerror=e=>console.error("CleverTap Web SDK load failed:",e);let r=document.getElementsByTagName("script")[0];((null==r?void 0:r.parentNode)||document.head).insertBefore(t,r||null)})(),(0,l.BP)();let isCleverTapAvailable=()=>a.dV.isNativePlatform(),formatPhoneE164=e=>{if(!e)return;let t=String(e).trim();if(t.startsWith("+"))return t;let r=t.replace(/[^0-9]/g,"");return 10===r.length?"+91".concat(r):12===r.length&&r.startsWith("91")?"+".concat(r):void 0},updateUserProfile=async e=>{let t={...e},r=formatPhoneE164(e.Phone);r?t.Phone=r:delete t.Phone;try{(0,l.Bq)(t)}catch(e){}if(isCleverTapAvailable())try{await n.z.profileSet(t)}catch(e){console.log("CleverTap profileSet error:",e)}else try{var a,o;null===(o=window.clevertap)||void 0===o||null===(a=o.profile)||void 0===a||a.push({Site:t})}catch(e){console.log("Web CleverTap profile push error:",e)}},trackUserLogin=async(e,t)=>{let r={Identity:e,...t||{}},a=formatPhoneE164(r.Phone);a?r.Phone=a:delete r.Phone;try{(0,l.xU)(e),r&&(0,l.Bq)(r)}catch(e){}if(isCleverTapAvailable())try{await n.z.onUserLogin(r)}catch(e){console.log("CleverTap onUserLogin error:",e)}else try{var o,i;null===(i=window.clevertap)||void 0===i||null===(o=i.onUserLogin)||void 0===o||o.push({Site:r})}catch(e){console.log("Web CleverTap onUserLogin error:",e)}},trackEvent=async(e,t)=>{try{(0,l.WO)(e,t)}catch(e){}if(isCleverTapAvailable())try{t&&Object.keys(t).length>0?await n.z.recordEventWithNameAndProps(e,t):await n.z.recordEventWithName(e)}catch(e){console.log("CleverTap recordEvent error:",e)}else try{var r,a,o,i;t&&Object.keys(t).length>0?null===(a=window.clevertap)||void 0===a||null===(r=a.event)||void 0===r||r.push(e,t):null===(i=window.clevertap)||void 0===i||null===(o=i.event)||void 0===o||o.push(e)}catch(e){console.log("Web CleverTap event push error:",e)}},trackProfileView=async e=>{await trackEvent("Profile Viewed",{"Viewed User ID":e})},trackSubscription=async(e,t,r)=>{await trackEvent("Subscription Purchased",{"Plan Name":e,Amount:t,Currency:r})},trackAppOpen=async()=>{try{(0,l.WO)("App Open")}catch(e){}if(isCleverTapAvailable())try{await n.z.notifyDeviceReady(),await n.z.recordEventWithName("App Open")}catch(e){console.log("CleverTap notifyDeviceReady/App Open error:",e)}else try{var e,t;null===(t=window.clevertap)||void 0===t||null===(e=t.event)||void 0===e||e.push("App Open")}catch(e){console.log("Web CleverTap App Open error:",e)}},trackScreenView=async e=>{await trackEvent("Screen View",{"Screen Name":e})}},4725:function(e,t,r){"use strict";r.d(t,{BP:function(){return initMixpanel},Bq:function(){return mixpanelPeopleSet},WO:function(){return mixpanelTrack},xU:function(){return mixpanelIdentify}});var n=r(718);let a=!1,getToken=()=>{let e="b19e0189e8c34fe2a980f09ba1ceeedc";return e&&e.trim().length>0?e.trim():"b19e0189e8c34fe2a980f09ba1ceeedc"},initMixpanel=e=>{if(a)return;let t=e||getToken();if(!t){console.warn("Mixpanel token missing. Set NEXT_PUBLIC_MIXPANEL_TOKEN in .env.local");return}n.Z.init(t,{debug:!0,track_pageview:!1}),a=!0,console.log("Mixpanel initialized")},mixpanelTrack=(e,t)=>{try{if(initMixpanel(),!a)return;t&&Object.keys(t).length>0?n.Z.track(e,t):n.Z.track(e)}catch(e){console.log("Mixpanel track error:",e)}},mixpanelIdentify=e=>{try{if(initMixpanel(),!a)return;n.Z.identify(e)}catch(e){console.log("Mixpanel identify error:",e)}},normalizePeopleProps=e=>{var t,r,n;let a={...e},l=null!==(t=e.Name)&&void 0!==t?t:e.name,o=null!==(r=e.Email)&&void 0!==r?r:e.email,i=null!==(n=e.Phone)&&void 0!==n?n:e.phone;return l&&(a.$name=String(l),delete a.Name,delete a.name),o&&(a.$email=String(o),delete a.Email,delete a.email),i&&(a.$phone=String(i),delete a.Phone,delete a.phone),a},mixpanelPeopleSet=e=>{try{if(initMixpanel(),!a)return;let t=normalizePeopleProps(e);n.Z.people.set(t)}catch(e){console.log("Mixpanel people.set error:",e)}}},5650:function(e,t,r){"use strict";r.d(t,{I:function(){return n}});let n={en:{selectLanguage:"Select Language",next:"Next",selectGender:"Select Gender",male:"Male",female:"Female",other:"Other",online:"Online",offline:"Offline",busy:"Busy",transactionHistory:"Transaction History",callHistory:"Call History",privacySecurity:"Privacy & Security",customerSupport:"Customer Support",logOut:"Log Out",editProfile:"Edit Profile",uploadPicture:"Upload Picture",aboutMe:"About Me",photoGallery:"Photo Gallery",hobbies:"Hobbies",add:"Add",saveChanges:"Save Changes",videoCall:"Video Call",audioCall:"Audio Call",rate:"Rate",yourBalance:"Your Balance",cancel:"Cancel",startCall:"Start Call",callHistoryTitle:"Call History",userName:"User Name",attributes:"Attributes",privacySecurityTitle:"Privacy & Security",accountSecurity:"Account Security",changePassword:"Change Password",updatePassword:"Update your password",change:"Change",hobby:"Hobby",needHelp:"Need help",understanding:"understanding",yourTransactions:"your transactions?",questionsText:"If you have any questions or spot something unusual, please reach out to us at",ourTeam:"Our team is here to assist you.",twoFactorAuth:"Two-Factor Authentication",addExtraSecurity:"Add extra security",privacySettings:"Privacy Settings",profileVisibility:"Profile Visibility",whoCanSee:"Who can see your profile",showOnlineStatus:"Show Online Status",letOthersSee:"Let others see when you're online",blockedUsers:"Blocked Users",manageBlocked:"Manage blocked contacts",view:"View",dataPrivacy:"Data & Privacy",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",gotQuery:"Got a query or need",assistance:"assistance?",hereToHelp:"We're here to help! Write to us at",supportTeam:"and our support team will get back to you as soon as possible."},hi:{selectLanguage:"भाषा चुनें",next:"आगे",selectGender:"लिंग चुनें",male:"पुरुष",female:"महिला",other:"अन्य",online:"ऑनलाइन",offline:"ऑफलाइन",busy:"व्यस्त",transactionHistory:"लेनदेन इतिहास",callHistory:"कॉल इतिहास",privacySecurity:"गोपनीयता और सुरक्षा",customerSupport:"ग्राहक सहायता",logOut:"लॉग आउट",editProfile:"प्रोफ़ाइल संपादित करें",uploadPicture:"फोटो अपलोड करें",aboutMe:"मेरे बारे में",photoGallery:"फोटो गैलरी",hobbies:"शौक",add:"जोड़ें",saveChanges:"परिवर्तन सहेजें",videoCall:"वीडियो कॉल",audioCall:"ऑडियो कॉल",rate:"दर",yourBalance:"आपका बैलेंस",cancel:"रद्द करें",startCall:"कॉल शुरू करें",callHistoryTitle:"कॉल इतिहास",userName:"उपयोगकर्ता नाम",attributes:"विशेषताएं",privacySecurityTitle:"गोपनीयता और सुरक्षा",accountSecurity:"खाता सुरक्षा",changePassword:"पासवर्ड बदलें",updatePassword:"अपना पासवर्ड अपडेट करें",change:"बदलें",hobby:"शौक",needHelp:"मदद चाहिए",understanding:"समझने में",yourTransactions:"आपके लेनदेन?",questionsText:"यदि आपके कोई प्रश्न हैं या कुछ असामान्य दिखाई देता है, तो कृपया हमसे संपर्क करें",ourTeam:"हमारी टीम आपकी सहायता के लिए यहां है।",twoFactorAuth:"दो-कारक प्रमाणीकरण",addExtraSecurity:"अतिरिक्त सुरक्षा जोड़ें",privacySettings:"गोपनीयता सेटिंग्स",profileVisibility:"प्रोफाइल दृश्यता",whoCanSee:"आपकी प्रोफाइल कौन देख सकता है",showOnlineStatus:"ऑनलाइन स्थिति दिखाएं",letOthersSee:"दूसरों को देखने दें कि आप ऑनलाइन हैं",blockedUsers:"अवरुद्ध उपयोगकर्ता",manageBlocked:"अवरुद्ध संपर्कों का प्रबंधन करें",view:"देखें",dataPrivacy:"डेटा और गोपनीयता",privacyPolicy:"गोपनीयता नीति",termsOfService:"सेवा की शर्तें",gotQuery:"कोई प्रश्न है या चाहिए",assistance:"सहायता?",hereToHelp:"हम मदद के लिए यहां हैं! हमें लिखें",supportTeam:"और हमारी सहायता टीम जल्द से जल्द आपसे संपर्क करेगी।"}}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),a=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,s={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,n)&&!i.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}}]);