(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{3960:function(e,t,a){Promise.resolve().then(a.bind(a,3071))},3071:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return TransactionHistoryPage}});var r=a(7437),s=a(4033),n=a(2265),i=a(3487),o=a(5650);function TransactionHistoryScreen(e){let{onBack:t}=e,{lang:a}=(0,i.useLanguage)(),s=o.I[a],[c,l]=(0,n.useState)([]),[u,d]=(0,n.useState)(!0),[y,p]=(0,n.useState)(null);(0,n.useEffect)(()=>{let e=localStorage.getItem("user");if(!e){p("Please login to view transactions"),d(!1);return}try{let t=JSON.parse(e);fetchTransactions(t.id)}catch(e){p("Please login to view transactions"),d(!1)}},[]);let fetchTransactions=async e=>{try{d(!0),p(null);let t=await fetch("".concat("https://acsgroup.cloud","/api/users/").concat(e,"/transactions")),a=await t.json();if(!t.ok)throw Error(a.error||"Failed to load transactions");let r=Array.isArray(a)?a:a.transactions||[];l(r)}catch(e){p((null==e?void 0:e.message)||"Failed to load transactions")}finally{d(!1)}},formatDate=e=>{try{if(!e)return"";let t=new Date(e);return t.toLocaleString()}catch(e){return""}};return(0,r.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,r.jsx)("div",{className:"flex items-center p-4 pt-8",children:(0,r.jsx)("button",{onClick:t,className:"mr-3",children:(0,r.jsx)("span",{className:"text-2xl text-black",children:"←"})})}),(0,r.jsx)("div",{className:"px-4 pb-3",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-black",children:s.transactionHistory})}),u?(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):y?(0,r.jsx)("div",{className:"px-6 py-4",children:(0,r.jsx)("p",{className:"text-red-600 text-sm",children:y})}):0===c.length?(0,r.jsx)("div",{className:"px-6 py-8",children:(0,r.jsx)("p",{className:"text-gray-600 text-sm",children:"No transactions yet."})}):(0,r.jsx)("div",{className:"px-4 pb-24 space-y-3",children:c.map((e,t)=>{var a;return(0,r.jsxs)("div",{className:"p-4 bg-white rounded-2xl shadow-sm border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,r.jsx)("p",{className:"font-semibold text-gray-900 capitalize",children:e.type||"Transaction"}),(0,r.jsx)("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-700",children:e.status||"success"})]}),(0,r.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,r.jsx)("span",{children:formatDate(e.createdAt)}),(0,r.jsxs)("span",{children:["₹",null!==(a=e.amountRupees)&&void 0!==a?a:0]})]}),"number"==typeof e.coins&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Coins: ",e.coins]}),e.description&&(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]},e._id||t)})})]})}function TransactionHistoryPage(){let e=(0,s.useRouter)();return(0,r.jsx)(TransactionHistoryScreen,{onBack:()=>e.back()})}},3487:function(e,t,a){"use strict";a.r(t),a.d(t,{LanguageProvider:function(){return LanguageProvider},useLanguage:function(){return useLanguage}});var r=a(7437),s=a(2265);let n=(0,s.createContext)({lang:"en",setLang:()=>{}}),useLanguage=()=>(0,s.useContext)(n);function LanguageProvider(e){let{children:t}=e,[a,i]=(0,s.useState)("en");return(0,r.jsx)(n.Provider,{value:{lang:a,setLang:i},children:t})}},5650:function(e,t,a){"use strict";a.d(t,{I:function(){return r}});let r={en:{selectLanguage:"Select Language",next:"Next",selectGender:"Select Gender",male:"Male",female:"Female",other:"Other",online:"Online",offline:"Offline",busy:"Busy",transactionHistory:"Transaction History",callHistory:"Call History",privacySecurity:"Privacy & Security",customerSupport:"Customer Support",logOut:"Log Out",editProfile:"Edit Profile",uploadPicture:"Upload Picture",aboutMe:"About Me",photoGallery:"Photo Gallery",hobbies:"Hobbies",add:"Add",saveChanges:"Save Changes",videoCall:"Video Call",audioCall:"Audio Call",rate:"Rate",yourBalance:"Your Balance",cancel:"Cancel",startCall:"Start Call",callHistoryTitle:"Call History",userName:"User Name",attributes:"Attributes",privacySecurityTitle:"Privacy & Security",accountSecurity:"Account Security",changePassword:"Change Password",updatePassword:"Update your password",change:"Change",hobby:"Hobby",needHelp:"Need help",understanding:"understanding",yourTransactions:"your transactions?",questionsText:"If you have any questions or spot something unusual, please reach out to us at",ourTeam:"Our team is here to assist you.",twoFactorAuth:"Two-Factor Authentication",addExtraSecurity:"Add extra security",privacySettings:"Privacy Settings",profileVisibility:"Profile Visibility",whoCanSee:"Who can see your profile",showOnlineStatus:"Show Online Status",letOthersSee:"Let others see when you're online",blockedUsers:"Blocked Users",manageBlocked:"Manage blocked contacts",view:"View",dataPrivacy:"Data & Privacy",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",gotQuery:"Got a query or need",assistance:"assistance?",hereToHelp:"We're here to help! Write to us at",supportTeam:"and our support team will get back to you as soon as possible."},hi:{selectLanguage:"भाषा चुनें",next:"आगे",selectGender:"लिंग चुनें",male:"पुरुष",female:"महिला",other:"अन्य",online:"ऑनलाइन",offline:"ऑफलाइन",busy:"व्यस्त",transactionHistory:"लेनदेन इतिहास",callHistory:"कॉल इतिहास",privacySecurity:"गोपनीयता और सुरक्षा",customerSupport:"ग्राहक सहायता",logOut:"लॉग आउट",editProfile:"प्रोफ़ाइल संपादित करें",uploadPicture:"फोटो अपलोड करें",aboutMe:"मेरे बारे में",photoGallery:"फोटो गैलरी",hobbies:"शौक",add:"जोड़ें",saveChanges:"परिवर्तन सहेजें",videoCall:"वीडियो कॉल",audioCall:"ऑडियो कॉल",rate:"दर",yourBalance:"आपका बैलेंस",cancel:"रद्द करें",startCall:"कॉल शुरू करें",callHistoryTitle:"कॉल इतिहास",userName:"उपयोगकर्ता नाम",attributes:"विशेषताएं",privacySecurityTitle:"गोपनीयता और सुरक्षा",accountSecurity:"खाता सुरक्षा",changePassword:"पासवर्ड बदलें",updatePassword:"अपना पासवर्ड अपडेट करें",change:"बदलें",hobby:"शौक",needHelp:"मदद चाहिए",understanding:"समझने में",yourTransactions:"आपके लेनदेन?",questionsText:"यदि आपके कोई प्रश्न हैं या कुछ असामान्य दिखाई देता है, तो कृपया हमसे संपर्क करें",ourTeam:"हमारी टीम आपकी सहायता के लिए यहां है।",twoFactorAuth:"दो-कारक प्रमाणीकरण",addExtraSecurity:"अतिरिक्त सुरक्षा जोड़ें",privacySettings:"गोपनीयता सेटिंग्स",profileVisibility:"प्रोफाइल दृश्यता",whoCanSee:"आपकी प्रोफाइल कौन देख सकता है",showOnlineStatus:"ऑनलाइन स्थिति दिखाएं",letOthersSee:"दूसरों को देखने दें कि आप ऑनलाइन हैं",blockedUsers:"अवरुद्ध उपयोगकर्ता",manageBlocked:"अवरुद्ध संपर्कों का प्रबंधन करें",view:"देखें",dataPrivacy:"डेटा और गोपनीयता",privacyPolicy:"गोपनीयता नीति",termsOfService:"सेवा की शर्तें",gotQuery:"कोई प्रश्न है या चाहिए",assistance:"सहायता?",hereToHelp:"हम मदद के लिए यहां हैं! हमें लिखें",supportTeam:"और हमारी सहायता टीम जल्द से जल्द आपसे संपर्क करेगी।"}}},622:function(e,t,a){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=a(2265),s=Symbol.for("react.element"),n=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,a){var r,c={},l=null,u=null;for(r in void 0!==a&&(l=""+a),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)n.call(t,r)&&!o.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:s,type:e,key:l,ref:u,props:c,_owner:i.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,a){"use strict";e.exports=a(622)},4033:function(e,t,a){e.exports=a(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=3960)}),_N_E=e.O()}]);