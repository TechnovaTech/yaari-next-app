(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[819],{2898:function(e,t,r){"use strict";r.d(t,{Z:function(){return createLucideIcon}});var a=r(2265),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let toKebabCase=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),createLucideIcon=(e,t)=>{let r=(0,a.forwardRef)(({color:r="currentColor",size:o=24,strokeWidth:n=2,absoluteStrokeWidth:i,children:s,...c},u)=>(0,a.createElement)("svg",{ref:u,...l,width:o,height:o,stroke:r,strokeWidth:i?24*Number(n)/Number(o):n,className:`lucide lucide-${toKebabCase(e)}`,...c},[...t.map(([e,t])=>(0,a.createElement)(e,t)),...(Array.isArray(s)?s:[s])||[]]));return r.displayName=`${e}`,r}},7972:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(2898);let l=(0,a.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2549:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var a=r(2898);let l=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},6732:function(e,t,r){Promise.resolve().then(r.bind(r,596))},596:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return EditProfilePage}});var a=r(7437),l=r(4033),o=r(7972),n=r(2549),i=r(2898);let s=(0,i.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var c=r(2265),u=r(3487),d=r(5650),p=r(5128);function EditProfileScreen(e){let{onBack:t}=e,{lang:r}=(0,u.useLanguage)(),l=d.I[r],[i,f]=(0,c.useState)(""),[y,h]=(0,c.useState)(""),[m,g]=(0,c.useState)(""),[b,v]=(0,c.useState)(""),[x,w]=(0,c.useState)([]),[P,S]=(0,c.useState)(""),[N,k]=(0,c.useState)([]),[j,C]=(0,c.useState)(!1),[T,E]=(0,c.useState)(""),[O,L]=(0,c.useState)("");(0,c.useEffect)(()=>{(0,p.o$)("Edit Profile");let e=localStorage.getItem("user");if(e){let t=JSON.parse(e);f(t.name||""),h(t.phone||""),g(t.email||""),v(t.about||""),w(t.hobbies||[]),E(t.gender||""),L(t.profilePic||""),k(t.gallery||[])}},[]);let addHobby=()=>{P.trim()&&(w([...x,P.trim()]),S(""))},removeHobby=e=>{w(x.filter((t,r)=>r!==e))};return(0,a.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,a.jsx)("div",{className:"flex items-center p-4 pt-8",children:(0,a.jsx)("button",{onClick:t,className:"mr-3",children:(0,a.jsx)("span",{className:"text-2xl text-black",children:"←"})})}),(0,a.jsx)("div",{className:"px-4 pb-6",children:(0,a.jsx)("h1",{className:"text-3xl font-bold text-black",children:l.editProfile})}),(0,a.jsxs)("div",{className:"flex items-center px-4 mb-8",children:[(0,a.jsx)("div",{className:"w-24 h-24 bg-gray-300 rounded-full flex items-center justify-center overflow-hidden mr-4",children:O?(0,a.jsx)("img",{src:O,alt:"Profile",className:"w-full h-full object-cover"}):(0,a.jsx)(o.Z,{size:48,className:"text-gray-500"})}),(0,a.jsx)("input",{type:"file",id:"profilePic",accept:"image/*",className:"hidden",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onloadend=()=>{L(e.result)},e.readAsDataURL(r)}}}),(0,a.jsx)("label",{htmlFor:"profilePic",className:"px-6 py-3 border-2 border-primary text-primary rounded-full font-semibold cursor-pointer flex items-center justify-center",children:l.uploadPicture})]}),(0,a.jsxs)("div",{className:"px-4 mb-6",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Gender"}),(0,a.jsx)("div",{className:"w-full p-4 border border-gray-300 rounded-full text-base bg-gray-100 text-gray-700 capitalize",children:T||"Not set"})]}),(0,a.jsxs)("div",{className:"px-4 space-y-6 pb-24",children:[(0,a.jsx)("input",{type:"text",value:i,onChange:e=>f(e.target.value),placeholder:"User Name",className:"w-full p-4 border border-gray-300 rounded-full text-base focus:outline-none focus:border-primary bg-gray-50",style:{fontSize:"16px"}}),(0,a.jsx)("input",{type:"tel",value:y,onChange:e=>h(e.target.value),placeholder:"Phone Number",className:"w-full p-4 border border-gray-300 rounded-full text-base focus:outline-none focus:border-primary bg-gray-50",style:{fontSize:"16px"}}),(0,a.jsx)("input",{type:"email",value:m,onChange:e=>g(e.target.value),placeholder:"Email Address",className:"w-full p-4 border border-gray-300 rounded-full text-base focus:outline-none focus:border-primary bg-gray-50",style:{fontSize:"16px"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:l.aboutMe}),(0,a.jsx)("textarea",{value:b,onChange:e=>v(e.target.value),placeholder:"Tell us about yourself...",rows:4,className:"w-full p-4 border border-gray-300 rounded-2xl text-base focus:outline-none focus:border-primary bg-gray-50 resize-none",style:{fontSize:"16px"}})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:l.photoGallery}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[N.map((e,t)=>(0,a.jsxs)("div",{className:"aspect-square bg-gray-200 rounded-lg relative overflow-hidden",children:[(0,a.jsx)("img",{src:e,alt:"Gallery ".concat(t),className:"w-full h-full object-cover"}),(0,a.jsx)("button",{onClick:()=>k(N.filter((e,r)=>r!==t)),className:"absolute top-1 right-1 w-6 h-6 bg-red-500 rounded-full flex items-center justify-center",children:(0,a.jsx)(n.Z,{size:14,className:"text-white"})})]},t)),(0,a.jsx)("input",{type:"file",id:"galleryPic",accept:"image/*",className:"hidden",onChange:e=>{var t;let r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){let e=new FileReader;e.onloadend=()=>{k([...N,e.result])},e.readAsDataURL(r)}}}),(0,a.jsx)("label",{htmlFor:"galleryPic",className:"aspect-square bg-gray-100 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center cursor-pointer",children:(0,a.jsx)(s,{size:24,className:"text-gray-400"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:l.hobbies}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mb-3",children:x.map((e,t)=>(0,a.jsxs)("span",{className:"bg-orange-50 text-gray-800 px-4 py-2 rounded-full text-sm border border-gray-200 flex items-center gap-2",children:[e,(0,a.jsx)("button",{onClick:()=>removeHobby(t),children:(0,a.jsx)(n.Z,{size:14,className:"text-gray-600"})})]},t))}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("input",{type:"text",value:P,onChange:e=>S(e.target.value),onKeyPress:e=>"Enter"===e.key&&addHobby(),placeholder:"Add a hobby",className:"flex-1 p-3 border border-gray-300 rounded-full text-sm focus:outline-none focus:border-primary bg-gray-50",style:{fontSize:"16px"}}),(0,a.jsx)("button",{onClick:addHobby,className:"px-4 py-3 bg-primary text-white rounded-full font-semibold text-sm whitespace-nowrap flex items-center justify-center",children:l.add})]})]})]}),(0,a.jsx)("div",{className:"fixed bottom-8 left-4 right-4",children:(0,a.jsx)("button",{onClick:async()=>{if(!i.trim()){alert("Please enter your name");return}C(!0),(0,p.L9)("ProfileSaveAttempt");try{let e=JSON.parse(localStorage.getItem("user")||"{}"),t={name:i,phone:y,email:m,about:b,hobbies:x,profilePic:O,gallery:N};console.log("Saving profile:",t);let r=await fetch("https://admin.yaari.me/api/users/".concat(e.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),a=await r.json();if(console.log("Save response:",a),r.ok){let t={...e,name:i,phone:y,email:m,about:b,hobbies:x,profilePic:O,gallery:N};localStorage.setItem("user",JSON.stringify(t)),await (0,p.Lj)({Name:i,Email:m,Phone:y,Gender:T,About:b,Hobbies:x.join(", "),"Profile Picture":O}),(0,p.L9)("ProfileSaved"),alert("Profile saved to database successfully!"),window.location.href="/users"}else(0,p.L9)("ProfileSaveFailed",{error:a.error||"Unknown error"}),alert("Failed to save profile: "+(a.error||"Unknown error"))}catch(e){(0,p.L9)("ProfileSaveError"),alert("Error saving profile")}finally{C(!1)}},disabled:j,className:"w-full bg-primary text-white py-4 rounded-full font-semibold text-lg disabled:opacity-50 flex items-center justify-center",children:j?"Saving...":l.saveChanges})})]})}function EditProfilePage(){let e=(0,l.useRouter)();return(0,a.jsx)(EditProfileScreen,{onBack:()=>e.back()})}},3487:function(e,t,r){"use strict";r.r(t),r.d(t,{LanguageProvider:function(){return LanguageProvider},useLanguage:function(){return useLanguage}});var a=r(7437),l=r(2265);let o=(0,l.createContext)({lang:"en",setLang:()=>{}}),useLanguage=()=>(0,l.useContext)(o);function LanguageProvider(e){let{children:t}=e,[r,n]=(0,l.useState)("en");return(0,a.jsx)(o.Provider,{value:{lang:r,setLang:n},children:t})}},5128:function(e,t,r){"use strict";r.d(t,{H4:function(){return trackAppOpen},L9:function(){return trackEvent},Lj:function(){return updateUserProfile},QU:function(){return trackUserLogin},Tf:function(){return trackSubscription},YY:function(){return trackProfileView},o$:function(){return trackScreenView}});var a=r(1007),l=r(3103),o=r(4725);(()=>{if(l.dV.isNativePlatform())return;let e=window;if(e.clevertap)return;e.clevertap={event:[],profile:[],account:[],onUserLogin:[],region:"eu1"},e.clevertap.account.push({id:"775-RZ7-W67Z"});let t=document.createElement("script");t.src="https://static.clevertap.com/js/clevertap.min.js",t.type="text/javascript",t.async=!0,t.onload=()=>console.log("CleverTap Web SDK loaded"),t.onerror=e=>console.error("CleverTap Web SDK load failed:",e);let r=document.getElementsByTagName("script")[0];((null==r?void 0:r.parentNode)||document.head).insertBefore(t,r||null)})(),(0,o.BP)();let isCleverTapAvailable=()=>l.dV.isNativePlatform(),formatPhoneE164=e=>{if(!e)return;let t=String(e).trim();if(t.startsWith("+"))return t;let r=t.replace(/[^0-9]/g,"");return 10===r.length?"+91".concat(r):12===r.length&&r.startsWith("91")?"+".concat(r):void 0},updateUserProfile=async e=>{let t={...e},r=formatPhoneE164(e.Phone);r?t.Phone=r:delete t.Phone;try{(0,o.Bq)(t)}catch(e){}if(isCleverTapAvailable())try{await a.z.profileSet(t)}catch(e){console.log("CleverTap profileSet error:",e)}else try{var l,n;null===(n=window.clevertap)||void 0===n||null===(l=n.profile)||void 0===l||l.push({Site:t})}catch(e){console.log("Web CleverTap profile push error:",e)}},trackUserLogin=async(e,t)=>{let r={Identity:e,...t||{}},l=formatPhoneE164(r.Phone);l?r.Phone=l:delete r.Phone;try{(0,o.xU)(e),r&&(0,o.Bq)(r)}catch(e){}if(isCleverTapAvailable())try{await a.z.onUserLogin(r)}catch(e){console.log("CleverTap onUserLogin error:",e)}else try{var n,i;null===(i=window.clevertap)||void 0===i||null===(n=i.onUserLogin)||void 0===n||n.push({Site:r})}catch(e){console.log("Web CleverTap onUserLogin error:",e)}},trackEvent=async(e,t)=>{try{(0,o.WO)(e,t)}catch(e){}if(isCleverTapAvailable())try{t&&Object.keys(t).length>0?await a.z.recordEventWithNameAndProps(e,t):await a.z.recordEventWithName(e)}catch(e){console.log("CleverTap recordEvent error:",e)}else try{var r,l,n,i;t&&Object.keys(t).length>0?null===(l=window.clevertap)||void 0===l||null===(r=l.event)||void 0===r||r.push(e,t):null===(i=window.clevertap)||void 0===i||null===(n=i.event)||void 0===n||n.push(e)}catch(e){console.log("Web CleverTap event push error:",e)}},trackProfileView=async e=>{await trackEvent("Profile Viewed",{"Viewed User ID":e})},trackSubscription=async(e,t,r)=>{await trackEvent("Subscription Purchased",{"Plan Name":e,Amount:t,Currency:r})},trackAppOpen=async()=>{try{(0,o.WO)("App Open")}catch(e){}if(isCleverTapAvailable())try{await a.z.notifyDeviceReady(),await a.z.recordEventWithName("App Open")}catch(e){console.log("CleverTap notifyDeviceReady/App Open error:",e)}else try{var e,t;null===(t=window.clevertap)||void 0===t||null===(e=t.event)||void 0===e||e.push("App Open")}catch(e){console.log("Web CleverTap App Open error:",e)}},trackScreenView=async e=>{await trackEvent("Screen View",{"Screen Name":e})}},4725:function(e,t,r){"use strict";r.d(t,{BP:function(){return initMixpanel},Bq:function(){return mixpanelPeopleSet},WO:function(){return mixpanelTrack},xU:function(){return mixpanelIdentify}});var a=r(718);let l=!1,getToken=()=>{let e="b19e0189e8c34fe2a980f09ba1ceeedc";return e&&e.trim().length>0?e.trim():"b19e0189e8c34fe2a980f09ba1ceeedc"},initMixpanel=e=>{if(l)return;let t=e||getToken();if(!t){console.warn("Mixpanel token missing. Set NEXT_PUBLIC_MIXPANEL_TOKEN in .env.local");return}a.Z.init(t,{debug:!0,track_pageview:!1}),l=!0,console.log("Mixpanel initialized")},mixpanelTrack=(e,t)=>{try{if(initMixpanel(),!l)return;t&&Object.keys(t).length>0?a.Z.track(e,t):a.Z.track(e)}catch(e){console.log("Mixpanel track error:",e)}},mixpanelIdentify=e=>{try{if(initMixpanel(),!l)return;a.Z.identify(e)}catch(e){console.log("Mixpanel identify error:",e)}},normalizePeopleProps=e=>{var t,r,a;let l={...e},o=null!==(t=e.Name)&&void 0!==t?t:e.name,n=null!==(r=e.Email)&&void 0!==r?r:e.email,i=null!==(a=e.Phone)&&void 0!==a?a:e.phone;return o&&(l.$name=String(o),delete l.Name,delete l.name),n&&(l.$email=String(n),delete l.Email,delete l.email),i&&(l.$phone=String(i),delete l.Phone,delete l.phone),l},mixpanelPeopleSet=e=>{try{if(initMixpanel(),!l)return;let t=normalizePeopleProps(e);a.Z.people.set(t)}catch(e){console.log("Mixpanel people.set error:",e)}}},5650:function(e,t,r){"use strict";r.d(t,{I:function(){return a}});let a={en:{selectLanguage:"Select Language",next:"Next",selectGender:"Select Gender",male:"Male",female:"Female",other:"Other",online:"Online",offline:"Offline",busy:"Busy",transactionHistory:"Transaction History",callHistory:"Call History",privacySecurity:"Privacy & Security",customerSupport:"Customer Support",logOut:"Log Out",editProfile:"Edit Profile",uploadPicture:"Upload Picture",aboutMe:"About Me",photoGallery:"Photo Gallery",hobbies:"Hobbies",add:"Add",saveChanges:"Save Changes",videoCall:"Video Call",audioCall:"Audio Call",rate:"Rate",yourBalance:"Your Balance",cancel:"Cancel",startCall:"Start Call",callHistoryTitle:"Call History",userName:"User Name",attributes:"Attributes",privacySecurityTitle:"Privacy & Security",accountSecurity:"Account Security",changePassword:"Change Password",updatePassword:"Update your password",change:"Change",hobby:"Hobby",needHelp:"Need help",understanding:"understanding",yourTransactions:"your transactions?",questionsText:"If you have any questions or spot something unusual, please reach out to us at",ourTeam:"Our team is here to assist you.",twoFactorAuth:"Two-Factor Authentication",addExtraSecurity:"Add extra security",privacySettings:"Privacy Settings",profileVisibility:"Profile Visibility",whoCanSee:"Who can see your profile",showOnlineStatus:"Show Online Status",letOthersSee:"Let others see when you're online",blockedUsers:"Blocked Users",manageBlocked:"Manage blocked contacts",view:"View",dataPrivacy:"Data & Privacy",privacyPolicy:"Privacy Policy",termsOfService:"Terms of Service",gotQuery:"Got a query or need",assistance:"assistance?",hereToHelp:"We're here to help! Write to us at",supportTeam:"and our support team will get back to you as soon as possible."},hi:{selectLanguage:"भाषा चुनें",next:"आगे",selectGender:"लिंग चुनें",male:"पुरुष",female:"महिला",other:"अन्य",online:"ऑनलाइन",offline:"ऑफलाइन",busy:"व्यस्त",transactionHistory:"लेनदेन इतिहास",callHistory:"कॉल इतिहास",privacySecurity:"गोपनीयता और सुरक्षा",customerSupport:"ग्राहक सहायता",logOut:"लॉग आउट",editProfile:"प्रोफ़ाइल संपादित करें",uploadPicture:"फोटो अपलोड करें",aboutMe:"मेरे बारे में",photoGallery:"फोटो गैलरी",hobbies:"शौक",add:"जोड़ें",saveChanges:"परिवर्तन सहेजें",videoCall:"वीडियो कॉल",audioCall:"ऑडियो कॉल",rate:"दर",yourBalance:"आपका बैलेंस",cancel:"रद्द करें",startCall:"कॉल शुरू करें",callHistoryTitle:"कॉल इतिहास",userName:"उपयोगकर्ता नाम",attributes:"विशेषताएं",privacySecurityTitle:"गोपनीयता और सुरक्षा",accountSecurity:"खाता सुरक्षा",changePassword:"पासवर्ड बदलें",updatePassword:"अपना पासवर्ड अपडेट करें",change:"बदलें",hobby:"शौक",needHelp:"मदद चाहिए",understanding:"समझने में",yourTransactions:"आपके लेनदेन?",questionsText:"यदि आपके कोई प्रश्न हैं या कुछ असामान्य दिखाई देता है, तो कृपया हमसे संपर्क करें",ourTeam:"हमारी टीम आपकी सहायता के लिए यहां है।",twoFactorAuth:"दो-कारक प्रमाणीकरण",addExtraSecurity:"अतिरिक्त सुरक्षा जोड़ें",privacySettings:"गोपनीयता सेटिंग्स",profileVisibility:"प्रोफाइल दृश्यता",whoCanSee:"आपकी प्रोफाइल कौन देख सकता है",showOnlineStatus:"ऑनलाइन स्थिति दिखाएं",letOthersSee:"दूसरों को देखने दें कि आप ऑनलाइन हैं",blockedUsers:"अवरुद्ध उपयोगकर्ता",manageBlocked:"अवरुद्ध संपर्कों का प्रबंधन करें",view:"देखें",dataPrivacy:"डेटा और गोपनीयता",privacyPolicy:"गोपनीयता नीति",termsOfService:"सेवा की शर्तें",gotQuery:"कोई प्रश्न है या चाहिए",assistance:"सहायता?",hereToHelp:"हम मदद के लिए यहां हैं! हमें लिखें",supportTeam:"और हमारी सहायता टीम जल्द से जल्द आपसे संपर्क करेगी।"}}},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=r(2265),l=Symbol.for("react.element"),o=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),n=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var a,s={},c=null,u=null;for(a in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,a)&&!i.hasOwnProperty(a)&&(s[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===s[a]&&(s[a]=t[a]);return{$$typeof:l,type:e,key:c,ref:u,props:s,_owner:n.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},4033:function(e,t,r){e.exports=r(94)}},function(e){e.O(0,[601,623,971,472,744],function(){return e(e.s=6732)}),_N_E=e.O()}]);