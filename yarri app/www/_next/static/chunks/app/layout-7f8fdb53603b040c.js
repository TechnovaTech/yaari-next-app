(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{8339:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2898);let o=(0,r.Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])},2549:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(2898);let o=(0,r.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},784:function(e,t,n){Promise.resolve().then(n.t.bind(n,2853,23)),Promise.resolve().then(n.bind(n,9727)),Promise.resolve().then(n.bind(n,7152)),Promise.resolve().then(n.bind(n,7859)),Promise.resolve().then(n.bind(n,3154)),Promise.resolve().then(n.bind(n,4606)),Promise.resolve().then(n.bind(n,3487)),Promise.resolve().then(n.bind(n,5997)),Promise.resolve().then(n.t.bind(n,5360,23))},9727:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return CleverTapInit}});var r=n(2265),o=n(1007),l=n(3103),a=n(5128),i=n(4725);function CleverTapInit(){return(0,r.useEffect)(()=>{let initializeCleverTap=async()=>{if(l.dV.isNativePlatform())try{await o.z.setDebugLevel(3),await o.z.notifyDeviceReady(),await (0,a.H4)();try{let e=localStorage.getItem("user")||localStorage.getItem("phone");if(e){let t=(()=>{try{return JSON.parse(e)}catch(e){return{}}})(),n=(null==t?void 0:t.id)||(null==t?void 0:t.phone)||e;await (0,a.QU)(n,{Name:null==t?void 0:t.name,Email:null==t?void 0:t.email,Phone:null==t?void 0:t.phone})}}catch(e){}console.log("CleverTap initialized"),console.log("CleverTap initialized")}catch(e){console.error("CleverTap initialization failed:",e)}else{await (0,a.H4)(),(0,i.BP)();try{let e=localStorage.getItem("user"),t=localStorage.getItem("phone");if(e||t){let n=e?(()=>{try{return JSON.parse(e)}catch(e){return{}}})():{},r=(null==n?void 0:n.id)||(null==n?void 0:n.phone)||t;await (0,a.QU)(r,{Name:null==n?void 0:n.name,Email:null==n?void 0:n.email,Phone:null==n?void 0:n.phone}),r&&((0,i.xU)(String(r)),(0,i.Bq)({Name:null==n?void 0:n.name,Email:null==n?void 0:n.email,Phone:null==n?void 0:n.phone}))}}catch(e){console.log("Web CleverTap onUserLogin error:",e)}}};initializeCleverTap()},[]),null}},7152:function(e,t,n){"use strict";n.r(t);var r=n(7437),o=n(2265);let ErrorBoundary=class ErrorBoundary extends o.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){console.error("ErrorBoundary caught an error:",e,t),console.error("Error stack:",e.stack),console.error("Component stack:",t.componentStack)}render(){return this.state.hasError?this.props.fallback||(0,r.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen p-4 bg-gray-50",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Something went wrong"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"The app encountered an error. Please try restarting the app."}),(0,r.jsx)("button",{onClick:()=>{this.setState({hasError:!1,error:void 0}),window.location.reload()},className:"px-4 py-2 bg-blue-500 text-white rounded-lg",children:"Restart App"})]})}):this.props.children}constructor(...e){super(...e),this.state={hasError:!1}}};t.default=ErrorBoundary},7859:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return GlobalCallUI}});var r=n(7437),o=n(5997),l=n(8339),a=n(2741),i=n(2549);function IncomingCallModal(e){let{callerName:t,callType:n,onAccept:o,onDecline:c}=e;return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center z-50 p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-3xl w-full max-w-sm p-8 text-center",children:[(0,r.jsx)("div",{className:"w-24 h-24 bg-primary rounded-full mx-auto mb-4 flex items-center justify-center",children:"video"===n?(0,r.jsx)(l.Z,{size:40,className:"text-white"}):(0,r.jsx)(a.Z,{size:40,className:"text-white"})}),(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:t}),(0,r.jsxs)("p",{className:"text-gray-600 mb-8",children:["Incoming ",n," call..."]}),(0,r.jsxs)("div",{className:"flex gap-4",children:[(0,r.jsxs)("button",{onClick:c,className:"flex-1 bg-red-500 text-white py-4 rounded-full flex items-center justify-center gap-2",children:[(0,r.jsx)(i.Z,{size:24}),(0,r.jsx)("span",{children:"Decline"})]}),(0,r.jsxs)("button",{onClick:o,className:"flex-1 bg-green-500 text-white py-4 rounded-full flex items-center justify-center gap-2",children:[(0,r.jsx)(a.Z,{size:24}),(0,r.jsx)("span",{children:"Accept"})]})]})]})})}var c=n(4033);function GlobalCallUI(){let{socket:e,incomingCall:t,setIncomingCall:n}=(0,o.useSocket)(),l=(0,c.useRouter)();return t?(0,r.jsx)(IncomingCallModal,{callerName:t.callerName,callType:t.callType,onAccept:()=>{if(!t||!e)return;let{callerId:r,callerName:o,callType:a,channelName:i}=t;sessionStorage.setItem("channelName",i),sessionStorage.setItem("callData",JSON.stringify({userName:o,userAvatar:"",rate:"video"===a?10:5,type:a,channelName:i,otherUserId:r})),e.emit("accept-call",{callerId:r,channelName:i,callType:a}),n(null),setTimeout(()=>{l.push("video"===a?"/video-call":"/audio-call")},100)},onDecline:()=>{t&&e&&(e.emit("decline-call",{callerId:t.callerId}),n(null))}}):null}},3154:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return NativeStatusBar}});var r,o,l,a,i=n(2265),c=n(3103);(r=l||(l={})).Dark="DARK",r.Light="LIGHT",r.Default="DEFAULT",(o=a||(a={})).None="NONE",o.Slide="SLIDE",o.Fade="FADE";let s=(0,c.fo)("StatusBar");function NativeStatusBar(){return(0,i.useEffect)(()=>{c.dV.isNativePlatform()&&(s.setStyle({style:l.Light}).catch(()=>{}),s.setBackgroundColor({color:"#FF6B35"}).catch(()=>{}),s.setOverlaysWebView({overlay:!1}).catch(()=>{}))},[]),null}},4606:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return RouteAnalytics}});var r=n(2265),o=n(4033),l=n(5128);function RouteAnalytics(){let e=(0,o.usePathname)();return(0,r.useEffect)(()=>{e&&(0,l.o$)(e)},[e]),null}},3487:function(e,t,n){"use strict";n.r(t),n.d(t,{LanguageProvider:function(){return LanguageProvider},useLanguage:function(){return useLanguage}});var r=n(7437),o=n(2265);let l=(0,o.createContext)({lang:"en",setLang:()=>{}}),useLanguage=()=>(0,o.useContext)(l);function LanguageProvider(e){let{children:t}=e,[n,a]=(0,o.useState)("en");return(0,r.jsx)(l.Provider,{value:{lang:n,setLang:a},children:t})}},5997:function(e,t,n){"use strict";n.r(t),n.d(t,{SocketProvider:function(){return SocketProvider},useSocket:function(){return useSocket}});var r=n(7437),o=n(2265),l=n(4337);let a=(0,o.createContext)({socket:null,isConnected:!1,incomingCall:null,setIncomingCall:()=>{}}),useSocket=()=>(0,o.useContext)(a);function SocketProvider(e){let{children:t}=e,[n,i]=(0,o.useState)(null),[c,s]=(0,o.useState)(!1),[u,d]=(0,o.useState)(null);return(0,o.useEffect)(()=>{let e="https://acsgroup.cloud";console.log("\uD83D\uDD0C Attempting to connect to Socket.io server:",e);let t=(0,l.io)(e,{transports:["websocket","polling"],timeout:2e4,forceNew:!0,reconnection:!0,reconnectionDelay:1e3,reconnectionAttempts:5});return t.on("connect",()=>{console.log("✅ Socket connected successfully"),s(!0);let e=localStorage.getItem("user");if(e)try{let n=JSON.parse(e);console.log("\uD83D\uDC64 Registering user:",n.id),t.emit("register",n.id)}catch(e){console.error("❌ Error parsing user data:",e)}}),t.on("connect_error",e=>{console.error("❌ Socket connection error:",e),s(!1)}),t.on("disconnect",e=>{console.log("\uD83D\uDD0C Socket disconnected:",e),s(!1)}),t.on("reconnect",e=>{console.log("\uD83D\uDD04 Socket reconnected after",e,"attempts"),s(!0)}),t.on("reconnect_error",e=>{console.error("❌ Socket reconnection error:",e)}),t.on("incoming-call",e=>{let{callerId:t,callerName:n,callType:r,channelName:o}=e;console.log("\uD83D\uDCE5 Incoming call (global):",{callerId:t,callerName:n,callType:r,channelName:o}),d({callerId:t,callerName:n,callType:r,channelName:o})}),t.on("call-accepted",e=>{let{channelName:t,callType:n}=e;console.log("✅ Call accepted (global):",{channelName:t,callType:n});try{t&&sessionStorage.setItem("channelName",t);let e=sessionStorage.getItem("callData"),r=n||"audio";if(e)try{let t=JSON.parse(e);((null==t?void 0:t.type)==="video"||(null==t?void 0:t.type)==="audio")&&(r=t.type)}catch(e){}else n&&sessionStorage.setItem("callData",JSON.stringify({userName:"",userAvatar:"",rate:"video"===n?10:5,type:n,channelName:t,otherUserId:""}));let o="video"===r?"/video-call":"/audio-call";window.location.href=o}catch(e){console.error("Error handling global call-accepted:",e)}}),t.on("call-busy",e=>{let{message:t}=e;console.log("\uD83D\uDCF5 Call busy:",t),alert(t)}),t.on("call-ended",()=>{console.log("\uD83D\uDED1 Call ended (global) — clearing incomingCall"),d(null)}),i(t),()=>{console.log("\uD83E\uDDF9 Cleaning up socket connection"),t.off("incoming-call"),t.off("call-accepted"),t.off("call-busy"),t.off("call-ended"),t.off("connect"),t.off("connect_error"),t.off("disconnect"),t.off("reconnect"),t.off("reconnect_error"),t.disconnect()}},[]),(0,r.jsx)(a.Provider,{value:{socket:n,isConnected:c,incomingCall:u,setIncomingCall:d},children:t})}},5128:function(e,t,n){"use strict";n.d(t,{H4:function(){return trackAppOpen},L9:function(){return trackEvent},Lj:function(){return updateUserProfile},QU:function(){return trackUserLogin},Tf:function(){return trackSubscription},YY:function(){return trackProfileView},o$:function(){return trackScreenView}});var r=n(1007),o=n(3103),l=n(4725);(()=>{if(o.dV.isNativePlatform())return;let e=window;if(e.clevertap)return;e.clevertap={event:[],profile:[],account:[],onUserLogin:[],region:"eu1"},e.clevertap.account.push({id:"775-RZ7-W67Z"});let t=document.createElement("script");t.src="https://static.clevertap.com/js/clevertap.min.js",t.type="text/javascript",t.async=!0,t.onload=()=>console.log("CleverTap Web SDK loaded"),t.onerror=e=>console.error("CleverTap Web SDK load failed:",e);let n=document.getElementsByTagName("script")[0];((null==n?void 0:n.parentNode)||document.head).insertBefore(t,n||null)})(),(0,l.BP)();let isCleverTapAvailable=()=>o.dV.isNativePlatform(),formatPhoneE164=e=>{if(!e)return;let t=String(e).trim();if(t.startsWith("+"))return t;let n=t.replace(/[^0-9]/g,"");return 10===n.length?"+91".concat(n):12===n.length&&n.startsWith("91")?"+".concat(n):void 0},updateUserProfile=async e=>{let t={...e},n=formatPhoneE164(e.Phone);n?t.Phone=n:delete t.Phone;try{(0,l.Bq)(t)}catch(e){}if(isCleverTapAvailable())try{await r.z.profileSet(t)}catch(e){console.log("CleverTap profileSet error:",e)}else try{var o,a;null===(a=window.clevertap)||void 0===a||null===(o=a.profile)||void 0===o||o.push({Site:t})}catch(e){console.log("Web CleverTap profile push error:",e)}},trackUserLogin=async(e,t)=>{let n={Identity:e,...t||{}},o=formatPhoneE164(n.Phone);o?n.Phone=o:delete n.Phone;try{(0,l.xU)(e),n&&(0,l.Bq)(n)}catch(e){}if(isCleverTapAvailable())try{await r.z.onUserLogin(n)}catch(e){console.log("CleverTap onUserLogin error:",e)}else try{var a,i;null===(i=window.clevertap)||void 0===i||null===(a=i.onUserLogin)||void 0===a||a.push({Site:n})}catch(e){console.log("Web CleverTap onUserLogin error:",e)}},trackEvent=async(e,t)=>{try{(0,l.WO)(e,t)}catch(e){}if(isCleverTapAvailable())try{t&&Object.keys(t).length>0?await r.z.recordEventWithNameAndProps(e,t):await r.z.recordEventWithName(e)}catch(e){console.log("CleverTap recordEvent error:",e)}else try{var n,o,a,i;t&&Object.keys(t).length>0?null===(o=window.clevertap)||void 0===o||null===(n=o.event)||void 0===n||n.push(e,t):null===(i=window.clevertap)||void 0===i||null===(a=i.event)||void 0===a||a.push(e)}catch(e){console.log("Web CleverTap event push error:",e)}},trackProfileView=async e=>{await trackEvent("Profile Viewed",{"Viewed User ID":e})},trackSubscription=async(e,t,n)=>{await trackEvent("Subscription Purchased",{"Plan Name":e,Amount:t,Currency:n})},trackAppOpen=async()=>{try{(0,l.WO)("App Open")}catch(e){}if(isCleverTapAvailable())try{await r.z.notifyDeviceReady(),await r.z.recordEventWithName("App Open")}catch(e){console.log("CleverTap notifyDeviceReady/App Open error:",e)}else try{var e,t;null===(t=window.clevertap)||void 0===t||null===(e=t.event)||void 0===e||e.push("App Open")}catch(e){console.log("Web CleverTap App Open error:",e)}},trackScreenView=async e=>{await trackEvent("Screen View",{"Screen Name":e})}},4725:function(e,t,n){"use strict";n.d(t,{BP:function(){return initMixpanel},Bq:function(){return mixpanelPeopleSet},WO:function(){return mixpanelTrack},xU:function(){return mixpanelIdentify}});var r=n(718);let o=!1,getToken=()=>{let e="b19e0189e8c34fe2a980f09ba1ceeedc";return e&&e.trim().length>0?e.trim():"b19e0189e8c34fe2a980f09ba1ceeedc"},initMixpanel=e=>{if(o)return;let t=e||getToken();if(!t){console.warn("Mixpanel token missing. Set NEXT_PUBLIC_MIXPANEL_TOKEN in .env.local");return}r.Z.init(t,{debug:!0,track_pageview:!1}),o=!0,console.log("Mixpanel initialized")},mixpanelTrack=(e,t)=>{try{if(initMixpanel(),!o)return;t&&Object.keys(t).length>0?r.Z.track(e,t):r.Z.track(e)}catch(e){console.log("Mixpanel track error:",e)}},mixpanelIdentify=e=>{try{if(initMixpanel(),!o)return;r.Z.identify(e)}catch(e){console.log("Mixpanel identify error:",e)}},normalizePeopleProps=e=>{var t,n,r;let o={...e},l=null!==(t=e.Name)&&void 0!==t?t:e.name,a=null!==(n=e.Email)&&void 0!==n?n:e.email,i=null!==(r=e.Phone)&&void 0!==r?r:e.phone;return l&&(o.$name=String(l),delete o.Name,delete o.name),a&&(o.$email=String(a),delete o.Email,delete o.email),i&&(o.$phone=String(i),delete o.Phone,delete o.phone),o},mixpanelPeopleSet=e=>{try{if(initMixpanel(),!o)return;let t=normalizePeopleProps(e);r.Z.people.set(t)}catch(e){console.log("Mixpanel people.set error:",e)}}},2853:function(){},5360:function(e){e.exports={style:{fontFamily:"'__Baloo_Tammudu_2_ee997e', '__Baloo_Tammudu_2_Fallback_ee997e'",fontStyle:"normal"},className:"__className_ee997e",variable:"__variable_ee997e"}},622:function(e,t,n){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(2265),o=Symbol.for("react.element"),l=(Symbol.for("react.fragment"),Object.prototype.hasOwnProperty),a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,n){var r,c={},s=null,u=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(u=t.ref),t)l.call(t,r)&&!i.hasOwnProperty(r)&&(c[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===c[r]&&(c[r]=t[r]);return{$$typeof:o,type:e,key:s,ref:u,props:c,_owner:a.current}}t.jsx=q,t.jsxs=q},7437:function(e,t,n){"use strict";e.exports=n(622)},4033:function(e,t,n){e.exports=n(94)}},function(e){e.O(0,[601,623,952,971,472,744],function(){return e(e.s=784)}),_N_E=e.O()}]);